#include <SoftwareSerial.h>
#include "Adafruit_Soundboard.h"


// Choose any two pins that can be used with SoftwareSerial to RX & TX
#define SFX_TX 5
#define SFX_RX 6

// Connect to the RST pin on the Sound Board
#define SFX_RST 4

// You can also monitor the ACT pin for when audio is playing!

// we'll be using software serial
SoftwareSerial ss = SoftwareSerial(SFX_TX, SFX_RX);

// pass the software serial to Adafruit_soundboard, the second
// argument is the debug port (not used really) and the third
// arg is the reset pin
Adafruit_Soundboard sfx = Adafruit_Soundboard(&ss, NULL, SFX_RST);

// can also try hardware serial with
// Adafruit_Soundboard sfx = Adafruit_Soundboard(&Serial1, NULL, SFX_RST);


//this variable will hold a random number generated by the random() function
long randomNumber;

#define NUM_SOUNDS 5
// The names of the found files.
// Note that they are 8 characters followed by a 3 character file
// type (.OGG or .WAV). Spaces are inserted to make up the
// 8 characters as needed.
char *soundName[NUM_SOUNDS] = {
  "SCORE001WAV",
  "SCORE002WAV"
};

char scoreTrack[]= "SCORE001WAV";

/* SAMPLE CODE FOUND FOR SETTING DELAYS
  int soundLength[NUM_SOUNDS] = { 1240, 510, 1300 , 1600, 190 };

  #define SOUND_HI_GANG  0
  #define SOUND_GROWL    1
  #define SOUND_GHOST    2
  #define SOUND_SCREAMHP 3
  #define SOUND_ILBEBACK 4
*/

int currentSound = 0;



void setup() {
  Serial.begin(115200);
  Serial.println("Adafruit Sound Board!");

  // softwareserial at 9600 baud
  ss.begin(9600);
  // can also do Serial1.begin(9600)

  if (!sfx.reset()) {
    Serial.println("Not found");
    while (1);
  }
  Serial.println("SFX board found");

  volAdjust();
  
}


void loop() {
  randomNumber = random(0,2);  
  Serial.print("The Random Number is = ");
  Serial.println(randomNumber);
  
  randomSeed(analogRead(0));
  sfx.playTrack(scoreTrack);
  /*delay(soundLength[currentSound]);*/


  /* Implementing Delay

    if (currentSound == NUM_SOUNDS)
    currentSound = 0

  */
}
void volAdjust() {
  int volDown = 20; while ( volDown-- ) {
    uint16_t v;
    v = sfx.volDown();
    Serial.println(v);
  }
}


